<% layout('layouts/boilerplate') %>
<div class="row">
    <h1 class="text-center">Add a new recipe</h1>
    <div class="col-6 offset-3">
        <form action="/recipes" method="POST" novalidate class="validate-form" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="title" class="form-label">Title:</label>
                <input type="text" id="title" name="recipe[title]" class="form-control" required>
                <div class="invalid-feedback">
                    Please provide a valid title.
                </div>
                <div class="valid-feedback">
                    Looks good!
                </div>
            </div>
            <div class="mb-3 d-flex">
                <div class="col-6">
                    <label for="preptime" class="form-label">Preparation Time (minutes):</label>
                    <input type="number" id="preptime" name="recipe[preptime]" class="form-control" required style="width: 25%;">
                    <div class="invalid-feedback">
                        Please provide a valid number.
                    </div>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="col-6">
                    <label for="servings" class="form-label">Servings (No.):</label>
                    <input type="number" id="servings" name="recipe[servings]" class="form-control" required style="width: 25%;">
                    <div class="invalid-feedback">
                        Please provide a valid number.
                    </div>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description:</label>
                <textarea id="description" name="recipe[description]" class="form-control" rows="2" required>  </textarea>
                <div class="invalid-feedback">
                    Please provide a valid description.
                </div>
                <div class="valid-feedback">
                    Looks good!
                </div>
            </div>
            <div class="mb-3">
                <label for="ingredients" class="form-label">Ingredients:</label>
                <textarea id="ingredients" name="recipe[ingredients]" class="form-control" rows="2" required> </textarea>
                <div class="invalid-feedback">
                    Please provide valid ingredients.
                </div>
            </div>
            <div class="mb-3">
                <label for="instructions" class="form-label">Instructions:</label>
                <textarea id="instructions" name="recipe[instructions]" class="form-control" rows="5" required> </textarea>
                <div class="valid-feedback">
                    Looks good!
                </div>
                <div class="invalid-feedback">
                    Please provide valid instructions.
                </div>
            </div>
            <div class="container-image-input bg-man7 ">
                <!-- File input container -->
                <div class="image-upload-container">
                <label for="image-input" class="upload-label">Add Recipe Image(s)</label>
                <input 
                    type="file" 
                    id="image-input" 
                    name="images" 
                    accept="image/*" 
                    multiple
                />
                </div>
                <!-- Preview container -->
                <div id="preview" class="preview-container"></div>
            </div>
            <button type="submit" class="btn btn-primary">Create</button>
        </form>
    </div>
</div>
<script src="/scripts/imageInput.js"></script>